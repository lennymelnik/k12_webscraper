define(["underscore","base.model"],function(e,t){"use strict";var n=function(t){var n=e.isArray(t.headers)?t.headers.length:1;return{config:{wrapping:!1,collapse:!1,expandable:!1,style:null},headerConfig:{responsiveStyle:"col-xs-"+12/n}}};return t.extend({parse:function(t){var r=n(t);return t.config=e.extend({},r.config,t.config),t.style=this.getNewValue("style",t.config.style,null),t.headers=t.headers||e.map(new Array(e.deepGet(t,"data.[0].components.length",0)),function(){return{}}),t.rowStyle=t.config.collapse?"collapsed "+(t.config.expandable?"expandable":""):"",this._generateTemplates(t,r),t},_generateTemplates:function(t,n){var r=[],i=[];e.each(t.headers,function(s,o){s.config=e.extend({},n.headerConfig,s.config);var u=e.cloneDeep(s.config),a=e.cloneDeep(s.config);u.isFirstInRow=o===0,a.role="columnheader",e.contains(["prime","major"],s.config.classification)||(t.config.wrapping&&(a.responsiveStyle+=" hidden-xs"),u.label=u.label||e.omit(s,"config")),r[o]=u,i[o]=a},this),t.rowsTemplate=r,t.headerTemplate=i}})});