define(["underscore","container.view","base.model","app/deprecated/widgets/buttonGroup/button.group.widget","app/widgets/datatable/datatable.controller","app/widgets/datatable/datatable.widget","app/widgets/link/link.widget"],function(e,t,n,r,i,s,o){"use strict";var u=n.extend({parse:function(t){return t=e.cloneDeep(t),t.buttons=e(t).pick(["enrollment-action-menu","enrollment-export"]).values().value(),t}});return t.extend(e.extend({template:"enrollment.table.widget.hbs",subviewDefs:{".enrollment-data-table":{dataKey:"enrollment-data-table",view:s},".button-container":{dataKey:"buttons",view:r},".enrollment-filter-criteria":{dataKey:"enrollment-filter-criteria",destroyData:!0,view:o}},initialize:function(){t.prototype.initialize.apply(this,arguments),this.baseUrl=this.options.baseUrl||this.baseUrl,this.model=new u,this.listenTo(this.model,"change",e.bindKey(this,"render")),this.listenTo(this,"show",e.bindKey(this,"_handleShow"));var n=this.subviewDefs[".enrollment-data-table"];this.tableDataKey=n.dataKey,this.listenTo(n.instance,"reloadModel",e.bindKey(this,"fetchTableData")),this.initializeDatatableController(n.instance,".enrollment-data-table")},beforeRender:function(){this.baseUrl=this.options.baseUrl||this.baseUrl},updateEnrollmentTableWidget:function(e){this._setDataTableUrl(e),this.model.set("updateUrl",this.dataTableUrl)},createButtonView:function(){return new r({notificationCallback:{callback:this.handleModalButtonAction,scope:this}})},_handleShow:function(){this.subviewDefs[".enrollment-data-table"].instance.resize()},showSpinner:function(){this.$el&&this.$el.spinner("show")},hideSpinner:function(){this.$el&&!1&&this.$el.spinner("hide")}},i))});