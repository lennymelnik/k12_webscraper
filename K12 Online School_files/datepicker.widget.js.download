define(["underscore","../input.widget","app/utils/helpers","bootstrapDatepicker"],function(e,t,n){"use strict";return t.extend({startDate:"Today",afterRender:function(){t.prototype.afterRender.apply(this,arguments);var r=this.model.get("buttonText")?this.model.get("buttonText"):"",i=this.model.get("startDate"),s=this.model.get("weekStart"),o={autoclose:!0,orientation:"left bottom",startDate:this.startDate,todayHighlight:!0};i&&(i==="false"?o.startDate=null:o.startDate=i),s&&(o.weekStart=s),this.$el.find("input").wrap("<div/>").after('<span class="input-group-addon">'+r+'<i class="'+n.getIcon(this.model.get("icon")||"calendar")+'"></i></span>').parent().addClass("input-group date").datepicker(e.extend(o,this.options.datepicker||{},this.model.get("datepicker")||{}))}})});