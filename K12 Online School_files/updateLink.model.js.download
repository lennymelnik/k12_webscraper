define(["underscore","../link.model"],function(e,t){"use strict";return t.extend({defaults:e.merge({keepValuesAfterUpdate:!1,selected:!1,enabled:!1,notifyOnEmptyResponse:!0},t.prototype.getDefaults()),parse:function(e){return e.keepValuesAfterUpdate&&(this.getOriginalValues(e),e.url=this.getOriginalValue("url",e),e.routeOptions=this.getOriginalValue("routeOptions",e),e.view=this.getOriginalValue("view",e),e.selected=this.getOriginalValue("selected",e),e.enabled=this.getOriginalValue("enabled",e)),t.prototype.parse.apply(this,arguments),e},getOriginalValues:function(t){return e.isEmpty(this._previousAttributes)?e.isEmpty(this.attributes)?t:this.attributes:this._previousAttributes},getOriginalValue:function(e,t){return this._previousAttributes[e]||this.attributes[e]||t[e]}})});